import{_ as a,c as t,a5 as i,o as r}from"./chunks/framework.Dzz2jpra.js";const g=JSON.parse('{"title":"GraalVM EE","description":"","frontmatter":{"sidebar_position":5,"title":"GraalVM EE","slug":"/optimize/jvm/graalvm"},"headers":[],"relativePath":"nitwikit/docs-java/process/maintenance/optimize/jvm/graal.md","filePath":"nitwikit/docs-java/process/maintenance/optimize/jvm/graal.md","lastUpdated":1728197875000}'),o={name:"nitwikit/docs-java/process/maintenance/optimize/jvm/graal.md"};function s(X,e,n,l,c,p){return r(),t("div",null,e[0]||(e[0]=[i('<h1 id="graalvm" tabindex="-1">GraalVM <a class="header-anchor" href="#graalvm" aria-label="Permalink to &quot;GraalVM&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>这些参数只适合 GraalVM EE</p></div><h2 id="基础参数" tabindex="-1">基础参数 <a class="header-anchor" href="#基础参数" aria-label="Permalink to &quot;基础参数&quot;">​</a></h2><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=28 -XX:G1MaxNewSizePercent=50 -XX:G1HeapRegionSize=16M -XX:G1ReservePercent=15 -XX:G1MixedGCCountTarget=3 -XX:InitiatingHeapOccupancyPercent=20 -XX:G1MixedGCLiveThresholdPercent=90 -XX:SurvivorRatio=32 -XX:G1HeapWastePercent=5 -XX:MaxTenuringThreshold=1 -XX:+PerfDisableSharedMem -XX:G1SATBBufferEnqueueingThresholdPercent=30 -XX:G1ConcMarkStepDurationMillis=5 -XX:G1RSetUpdatingPauseTimePercent=0 -XX:+UseNUMA -XX:-DontCompileHugeMethods -XX:MaxNodeLimit=240000 -XX:NodeLimitFudgeFactor=8000 -XX:ReservedCodeCacheSize=400M -XX:NonNMethodCodeHeapSize=12M -XX:ProfiledCodeHeapSize=194M -XX:NonProfiledCodeHeapSize=194M -XX:NmethodSweepActivity=1 -XX:+UseFastUnorderedTimeStamps -XX:+UseCriticalJavaThreadPriority -XX:AllocatePrefetchStyle=3 -XX:+AlwaysActAsServerClassMachine -XX:+EagerJVMCI -XX:+UseStringDeduplication -XX:+UseAES -XX:+UseAESIntrinsics -XX:+UseFMA -XX:+UseLoopPredicate -XX:+RangeCheckElimination -XX:+OptimizeStringConcat -XX:+UseThreadPriorities -XX:+OmitStackTraceInFastThrow -XX:+RewriteBytecodes -XX:+RewriteFrequentPairs -XX:+UseFPUForSpilling -XX:+UseFastStosb -XX:+UseNewLongLShift -XX:+UseVectorCmov -XX:+UseXMMForArrayCopy -XX:+UseXmmI2D -XX:+UseXmmI2F -XX:+UseXmmLoadAndClearUpper -XX:+UseXmmRegToRegMoveAll -XX:+EliminateLocks -XX:+DoEscapeAnalysis -XX:+AlignVector -XX:+OptimizeFill -XX:+EnableVectorSupport -XX:+UseCharacterCompareIntrinsics -XX:+UseCopySignIntrinsic -XX:+UseVectorStubs -XX:UseAVX=2 -XX:UseSSE=4 -XX:+UseFastJNIAccessors -XX:+UseInlineCaches -XX:+SegmentedCodeCache -Djdk.nio.maxCachedBufferSize=262144 -Dgraal.UsePriorityInlining=true -Dgraal.Vectorization=true -Dgraal.OptDuplication=true -Dgraal.DetectInvertedLoopsAsCounted=true  -Dgraal.LoopInversion=true -Dgraal.VectorizeHashes=true -Dgraal.EnterprisePartialUnroll=true -Dgraal.VectorizeSIMD=true -Dgraal.StripMineNonCountedLoops=true  -Dgraal.SpeculativeGuardMovement=true -Dgraal.TuneInlinerExploration=1 -Dgraal.LoopRotation=true -Dgraal.OptWriteMotion=true -Dgraal.CompilerConfiguration=enterprise</span></span></code></pre></div><h2 id="zgc" tabindex="-1">ZGC <a class="header-anchor" href="#zgc" aria-label="Permalink to &quot;ZGC&quot;">​</a></h2><p>GraalVM 不适合使用 ZGC,会导致重要优化被禁用</p><h2 id="正在考虑的flag" tabindex="-1">正在考虑的flag <a class="header-anchor" href="#正在考虑的flag" aria-label="Permalink to &quot;正在考虑的flag&quot;">​</a></h2><p>更激进的内联，在 Graal 中通过<code>-Dgraal.BaseTargetSpending=160</code>(默认为 120)和 OpenJDK 中的其他一些标志。具有较大缓存的 CPU 可能会从中受益</p><p><code>-Dgraal.OptWriteMotion=true</code>和<code>-Dgraal.WriteableCodeCache=true</code> ，看起来不稳定，但在 GraalVM 22.3.0 中可能更稳定</p>',9)]))}const u=a(o,[["render",s]]);export{g as __pageData,u as default};
