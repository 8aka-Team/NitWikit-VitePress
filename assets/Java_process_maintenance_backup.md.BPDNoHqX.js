import{_ as e,c as r,a5 as t,o}from"./chunks/framework.O9ad3XaM.js";const u=JSON.parse('{"title":"备份","description":"","frontmatter":{"title":"备份","sidebar_position":5},"headers":[],"relativePath":"Java/process/maintenance/backup.md","filePath":"nitwikit/docs-java/process/maintenance/backup.md","lastUpdated":1743829394000}'),p={name:"Java/process/maintenance/backup.md"};function s(i,a,c,n,l,h){return o(),r("div",null,a[0]||(a[0]=[t('<h1 id="备份" tabindex="-1">备份 <a class="header-anchor" href="#备份" aria-label="Permalink to &quot;备份&quot;">​</a></h1><p>你也不想你和你的玩家辛苦开发的世界由于一次断电，一次崩溃而毁于一旦吧? 这些情况很少发生但无法避免，经常做备份是有必要的!</p><h3 id="备份插件" tabindex="-1">备份插件 <a class="header-anchor" href="#备份插件" aria-label="Permalink to &quot;备份插件&quot;">​</a></h3><p>推荐两个备份插件(高效的备份，无需停服即可备份)：</p><p><a href="https://www.spigotmc.org/resources/ebackup-simple-and-reliable-backups-for-your-server-supports-ftp-sftp.69917/" target="_blank" rel="noreferrer">ebackup</a> 可设置黑名单不备份某些文件，FTP远程备份支持</p><p><a href="https://www.spigotmc.org/resources/server-backup-ingame-dropbox-ftp-backup-1-8-1-20-multithreaded.79320/" target="_blank" rel="noreferrer">serverbackup</a> 可支持动态备份(即只备份最近变更过的文件)，占用空间更小</p><div class="warning custom-block"><p class="custom-block-title">警告</p><p>虽然使用插件备份既方便又快速，但是插件备份得到的文件有可能是损坏的。</p><p>在空间和时间都充足的情况下，推荐直接关服进行备份，并定期检测备份的文件是否存在损坏。</p></div><p>InventoryRollbackPlus 插件可以备份玩家的背包。</p><div class="info custom-block"><p class="custom-block-title">信息</p><p><code>SpigotMC</code> ：<a href="https://www.spigotmc.org/resources/.85811" target="_blank" rel="noreferrer">https://www.spigotmc.org/resources/.85811</a></p><p><code>GitHub</code> ：<a href="https://github.com/TechnicallyCoded/Inventory-Rollback-Plus" target="_blank" rel="noreferrer">https://github.com/TechnicallyCoded/Inventory-Rollback-Plus</a></p></div><h3 id="自动备份软件" tabindex="-1">自动备份软件 <a class="header-anchor" href="#自动备份软件" aria-label="Permalink to &quot;自动备份软件&quot;">​</a></h3><h4 id="mcserverbackup" tabindex="-1"><a href="https://github.com/OblivionOcean/MCServerBackup" target="_blank" rel="noreferrer">MCServerBackup</a> <a class="header-anchor" href="#mcserverbackup" aria-label="Permalink to &quot;[MCServerBackup](https://github.com/OblivionOcean/MCServerBackup)&quot;">​</a></h4><p>MCServerBackup 是由 <a href="https://github.com/OblivionOcean" target="_blank" rel="noreferrer">玄云海 OblivionOcean</a> 自主研发的一款 Minecraft Java 服务器自动备份软件，主要用于区块备份 (但也可以用于服务器整体备份)。</p><p>即将推出一个带有简易 GUI 的版本，更加方便使用，目前使用仍略有难度。</p><p>支持将一段时间内所有变动的文件(区块、玩家信息等)全部打包为 <code>zip</code> 或 <code>tar.gz</code> 格式的压缩包或文件夹。</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">python main.py [相对</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">绝对目录] [时长] [类型]</span></span></code></pre></div><p>优势：群友 @Lafcadia 写的，可以问群友咋用。</p><p><a href="https://www.borgbackup.org/" target="_blank" rel="noreferrer">BorgBackup</a></p><p><a href="https://rsnapshot.org/" target="_blank" rel="noreferrer">rsnapshot</a></p><h3 id="手动备份" tabindex="-1">手动备份 <a class="header-anchor" href="#手动备份" aria-label="Permalink to &quot;手动备份&quot;">​</a></h3><p>Windows 系统在服务器根目录右键点击压缩即可(如果时间比较急推荐zip，如果空间比较紧推荐7zip)。</p><p>Linux 使用指令 <code>tar -czvf backup_date.tar.gz /[path]/</code> (如果使用7zip请自行查看7zip指令)。</p><p>面板 - 大多数面板都可以像 Windows 一键压缩。</p><h3 id="手动精简备份-不推荐" tabindex="-1">手动精简备份(不推荐) <a class="header-anchor" href="#手动精简备份-不推荐" aria-label="Permalink to &quot;手动精简备份(不推荐)&quot;">​</a></h3><p>假如你的存储空间告急，<strong>在你安装好防护软件(如火绒)，确保服务器本体不会被一锅端后</strong>，你可以试试只备份以下内容:</p><h4 id="备份世界" tabindex="-1">备份世界 <a class="header-anchor" href="#备份世界" aria-label="Permalink to &quot;备份世界&quot;">​</a></h4><p>这一点相比不用多说，肯定是很十分重要的，记得备份根目录下你创建过的和服务器生成的世界。</p><h4 id="备份插件数据文件" tabindex="-1">备份插件数据文件 <a class="header-anchor" href="#备份插件数据文件" aria-label="Permalink to &quot;备份插件数据文件&quot;">​</a></h4><p>插件数据文件、数据库文件等(常见名称有 data.yml ，database.db，data 文件夹等)。</p><p>这些需要自己寻找，这也是不推荐的原因，你可以等服务器稳定后找到全部类似的文件并记录下来。</p><div class="danger custom-block"><p class="custom-block-title">危险</p><p>如果安装了粘液科技，不管有没有设置 MySQL 存储(设置了也会在 data-storage 文件夹存储部分数据)，一定不要忘记备份根目录下的 data-storage 文件夹！</p></div><h4 id="可选-日志文件" tabindex="-1">(可选)日志文件 <a class="header-anchor" href="#可选-日志文件" aria-label="Permalink to &quot;(可选)日志文件&quot;">​</a></h4><p>服务器根目录下的 logs 文件夹。</p><h3 id="删除世界" tabindex="-1">删除世界 <a class="header-anchor" href="#删除世界" aria-label="Permalink to &quot;删除世界&quot;">​</a></h3><p>要想删除世界，只需简单的将 <code>world</code> 文件夹删除即可，或删除对应维度文件夹。</p><p>但是值得注意的是，大多数插件数据并不会随着世界的移除而移除，</p><p>如 NPC 插件可能仍然会尝试在相同名字的世界中尝试生成 NPC，即使他们已经不在原来的位置上。</p><p>一些服务端可能将维度拆分成单个文件夹存放至根目录，你需要全部删除才能重置所有维度。</p>',37)]))}const b=e(p,[["render",s]]);export{u as __pageData,b as default};
