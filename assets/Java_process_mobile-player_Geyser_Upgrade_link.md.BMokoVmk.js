import{_ as a,c as i,a5 as l,o as s}from"./chunks/framework.O9ad3XaM.js";const h=JSON.parse('{"title":"账户数据互通","description":"","frontmatter":{"title":"账户数据互通","sidebar_position":4},"headers":[],"relativePath":"Java/process/mobile-player/Geyser/Upgrade/link.md","filePath":"nitwikit/docs-java/process/mobile-player/Geyser/Upgrade/link.md","lastUpdated":1738507030000}'),o={name:"Java/process/mobile-player/Geyser/Upgrade/link.md"};function n(t,e,r,p,c,d){return s(),i("div",null,e[0]||(e[0]=[l(`<h1 id="账户数据互通" tabindex="-1">账户数据互通 <a class="header-anchor" href="#账户数据互通" aria-label="Permalink to &quot;账户数据互通&quot;">​</a></h1><h2 id="全局链接" tabindex="-1">全局链接 <a class="header-anchor" href="#全局链接" aria-label="Permalink to &quot;全局链接&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">提示</p><p>你也可以在官方网站找到有关如何链接的说明和信息：<a href="https://link.geysermc.org/" target="_blank" rel="noreferrer">https://link.geysermc.org/</a></p></div><p>GlobalLink 是 Geyser 提供的链接服务器,用于链接基岩版和Java版的账户.链接完后将会在<strong>所有</strong>启用全局链接的服务器上生效</p><div class="warning custom-block"><p class="custom-block-title">警告</p><p>链接后保留的是 Java 玩家的数据,除非你重新取消链接,否则对应基岩版玩家的数据将无法访问</p><p>如果你忘记执行此操作，你可以取消链接，将所有内容转移过去，然后重新链接。</p><p><strong>全局链接需要正版验证服务器</strong></p></div><p>要链接你的账户，你需要执行以下操作：</p><ol><li>使用你的Java和Bedrock账户加入GlobalLinkServer<br> (IP: <code>link.geysermc.org</code>，Java端口: <code>25565</code>，Bedrock端口: <code>19132</code>)</li><li>在Java <strong>或</strong> Bedrock账户上键入<code>/linkaccount</code>开始链接过程</li><li>你将收到一个带有随机数字的消息，你需要在未开始链接过程的账户上输入该数字。</li><li>在另一个账户上键入<code>/linkaccount &lt;收到的随机数字&gt;</code>输入随机数字</li><li>你应该在Bedrock和Java账户上都被踢出服务器，并收到成功链接你的账户的消息。</li></ol><p>要取消全局链接的账户链接，请在Java或Bedrock上加入GlobalLinkServer(如上所述进行链接),并使用<code>/unlinkaccount</code>命令。</p><p>默认情况下，每个运行Floodgate 的服务器应该已启用全局链接，但如果你禁用了它，你可以通过打开Floodgate配置:</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 玩家链接配置</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">player-link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 是否启用链接系统。关闭此选项将阻止玩家使用链接功能，即使他们已经链接。</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 是否使用全局链接。全局链接使用中央服务器请求链接</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 账户，允许人们链接一次，无处不在（在启用全局链接的服务器上）。</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  enable-global-linking</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>保存配置并重新启动服务器后，你应该可以使用全局链接。</p><p>如果你不想使用全局链接，可以在 Floodgate 配置中禁用<code>enable-global-linking</code>。</p><h2 id="本地链接" tabindex="-1">本地链接 <a class="header-anchor" href="#本地链接" aria-label="Permalink to &quot;本地链接&quot;">​</a></h2><p>你还可以在服务器上设置本地链接数据库。本地链接可以与全局链接同时使用。本地数据库中的链接条目将<strong>覆盖</strong>全局链接服务器中的条目。</p><p>请注意，如果你有代理（BungeeCord或Velocity），则只需在代理上执行以下步骤。</p><ol><li>下载链接数据库扩展之一: <a href="https://ci.opencollab.dev/job/GeyserMC/job/Floodgate/job/fix-weird-via-issue/" target="_blank" rel="noreferrer">这里</a>。 选择合适的扩展名：如果你已经有数据库或想要有多代理设置，请选择<code>mysql</code>。否则选择<code>sqlite</code>。完整名称应为 <code>floodgate-*type*-database.jar</code>。</li><li>将刚下载的数据库扩展jar文件复制到floodgate插件文件夹中（例如<code>/plugins/floodgate/</code>）。</li><li>在Floodgate的<code>player-link</code>部分中启用<code>enable-own-linking</code>。</li><li>在<code>player-link</code>部分中将<code>type</code>设置为你的数据库类型（目前只能是<code>mysql</code>或<code>sqlite</code>）</li><li>重新启动服务器</li></ol><p>如果你选择了<code>mysql</code>，则应在Floodgate数据文件夹内生成一个新的数据库数据文件夹。你可以在其中输入数据库凭据。完成后，请再次重新启动服务器。</p><p>就是这样。你可以按照键入<code>/linkaccount</code>时收到的说明来链接你的账户。</p><h3 id="forceplayerlink" tabindex="-1">ForcePlayerLink <a class="header-anchor" href="#forceplayerlink" aria-label="Permalink to &quot;ForcePlayerLink&quot;">​</a></h3><p>通过本地链接自动链接同名的基岩版和 Java 版玩家</p><p>[注意事项]</p><ul><li>不要使用允许基岩版绕过的登录插件</li><li>一定要启动 own-linking 关闭 global-linking</li></ul>`,22)]))}const g=a(o,[["render",n]]);export{h as __pageData,g as default};
