import{_ as s,c as i,a5 as e,o as t}from"./chunks/framework.O9ad3XaM.js";const k=JSON.parse('{"title":"压缩&混淆","description":"","frontmatter":{"title":"压缩&混淆","sidebar_position":3},"headers":[],"relativePath":"Java/process/maintenance/resourcepack/compress.md","filePath":"nitwikit/docs-java/process/maintenance/resourcepack/compress.md","lastUpdated":1737805704000}'),n={name:"Java/process/maintenance/resourcepack/compress.md"};function p(l,a,h,o,r,d){return t(),i("div",null,a[0]||(a[0]=[e(`<h1 id="压缩-混淆" tabindex="-1">压缩&amp;混淆 <a class="header-anchor" href="#压缩-混淆" aria-label="Permalink to &quot;压缩&amp;混淆&quot;">​</a></h1><p>为了让玩家更快的下载资源包(并节省你的流量),你需要对资源包进行压缩</p><p>或者为了防止他人轻易的偷走你的资源包,你也需要对资源包进行混淆</p><div class="tip custom-block"><p class="custom-block-title">混淆的安全性</p><p>就算你进行了最高强度的混淆,也不意味着你的材质包不会被偷走,只是难度变大了</p></div><p>推荐使用 <a href="https://packsquash.aylas.org/" target="_blank" rel="noreferrer">PackSquash</a> 进行压缩和混淆</p><h2 id="下载" tabindex="-1">下载 <a class="header-anchor" href="#下载" aria-label="Permalink to &quot;下载&quot;">​</a></h2><p>前往<a href="https://packsquash.aylas.org/" target="_blank" rel="noreferrer">官网</a> 下载即可</p><h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h2><p>PackSquash 需要你在目录下创建配置文件<code>packsquash.toml</code>才可以使用</p><p>然后向文件中写入以下内容</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pack_directory = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C:\\path\\to\\pack(填写你的资源包所在目录)&#39;</span></span></code></pre></div><p>然后在当前目录运行<code>packsquash packsquash.toml</code> 即可</p><h2 id="其他选项" tabindex="-1">其他选项 <a class="header-anchor" href="#其他选项" aria-label="Permalink to &quot;其他选项&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>这并不是所有的选项,<strong>只列出了一些</strong>对于新手有用的选项</p><p>同时简化了一些选项表达,完整版请参考<a href="https://github.com/ComunidadAylas/PackSquash/wiki/Options-files" target="_blank" rel="noreferrer">GitHub Wiki</a></p></div><h3 id="指定输出文件位置" tabindex="-1">指定输出文件位置 <a class="header-anchor" href="#指定输出文件位置" aria-label="Permalink to &quot;指定输出文件位置&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">output_file_path = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C:\\path\\to\\result\\pack\\zip\\file\\my_pack.zip&#39;</span></span></code></pre></div><h3 id="压缩标准" tabindex="-1">压缩标准 <a class="header-anchor" href="#压缩标准" aria-label="Permalink to &quot;压缩标准&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">zip_spec_conformance_level = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;pedantic&#39;</span></span></code></pre></div><p>默认取值为<code>pedantic</code>,表示完全遵循 ZIP 文件规范,所有的查看和托管都可以识别</p><p><code>disregard</code>为加料模式,包括提取保护和改进的内部 ZIP 文件结构压缩,会获得更好的性能,非常推荐</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>并不是所有的托管和查看程序都能识别<code>disregard</code>模式的 zip 文件</p></div><h3 id="zip-混淆" tabindex="-1">ZIP 混淆 <a class="header-anchor" href="#zip-混淆" aria-label="Permalink to &quot;ZIP 混淆&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">size_increasing_zip_obfuscation = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>当使用<code>disregard</code>模式时,启用此选项将增加对生成的 ZIP 文件进行查看、提取或篡改的保护，这会略微增加其大小。此选项不影响是否添加<strong>不增加文件大小</strong>的保护，并且如果ZIP标准不提供保护，则没有任何影响</p><h3 id="压缩保密性" tabindex="-1">压缩保密性 <a class="header-anchor" href="#压缩保密性" aria-label="Permalink to &quot;压缩保密性&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">percentage_of_zip_structures_tuned_for_obfuscation_discretion = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span></span></code></pre></div><p>当此选项设置为 0（最小值）时，每个 ZIP 记录将优先存储以提高压缩性。相反，当设置为 100（最大值）时，每个 ZIP 记录将优先存储以提高保密性。其他值将结合提高保密性和压缩性。</p><h3 id="ogg-混淆" tabindex="-1">OGG 混淆 <a class="header-anchor" href="#ogg-混淆" aria-label="Permalink to &quot;OGG 混淆&quot;">​</a></h3><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ogg_obfuscation = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">two_pass_vorbis_optimization_and_validation = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>如果开启该选项,生成的 Ogg 文件将会被破坏,使得它们在 Minecraft 之外难以播放</p><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h2><h3 id="itemsadder-armor-在使用-packsquash-后无法正常工作" tabindex="-1">ItemsAdder Armor 在使用 PackSquash 后无法正常工作 <a class="header-anchor" href="#itemsadder-armor-在使用-packsquash-后无法正常工作" aria-label="Permalink to &quot;ItemsAdder Armor 在使用 PackSquash 后无法正常工作&quot;">​</a></h3><p>在配置文件中添加如下内容</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;**/*?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">{fsh,vsh,glsl}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">minify_shader = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;**/textures/models/armor/*?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image_data_compression_iterations = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">skip_alpha_optimizations = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">color_quantization_target = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;none&#39;</span></span></code></pre></div><h2 id="战绩" tabindex="-1">战绩 <a class="header-anchor" href="#战绩" aria-label="Permalink to &quot;战绩&quot;">​</a></h2><p>对测试资源包使用 PackSquash 进行压缩,其体积从 79 MB 下降至 35 MB</p><p>使用 OGG 混淆后,7 款音频播放器均无法播放(MC 内正常)</p><p>使用 ZIP 混淆后,大部分 ZIP 查看器无法打开(不是合法的 ZIP 文件),仅 BandiZIP 成功解压</p><p>当压缩保密性设为 100 时,所有 ZIP 查看器陨落,无人打开,测试配置文件:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">zip_spec_conformance_level = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;disregard&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">size_increasing_zip_obfuscation = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">percentage_of_zip_structures_tuned_for_obfuscation_discretion = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span></span></code></pre></div>`,40)]))}const g=s(n,[["render",p]]);export{k as __pageData,g as default};
