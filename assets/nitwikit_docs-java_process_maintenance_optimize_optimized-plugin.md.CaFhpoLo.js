import{_ as e,c as r,a5 as t,o}from"./chunks/framework.Dzz2jpra.js";const d=JSON.parse('{"title":"优化误区","description":"","frontmatter":{"title":"优化误区","sidebar_position":6},"headers":[],"relativePath":"nitwikit/docs-java/process/maintenance/optimize/optimized-plugin.md","filePath":"nitwikit/docs-java/process/maintenance/optimize/optimized-plugin.md","lastUpdated":1727731002000}'),i={name:"nitwikit/docs-java/process/maintenance/optimize/optimized-plugin.md"};function p(l,a,n,s,h,c){return o(),r("div",null,a[0]||(a[0]=[t('<h1 id="优化误区" tabindex="-1">优化误区 <a class="header-anchor" href="#优化误区" aria-label="Permalink to &quot;优化误区&quot;">​</a></h1><h2 id="混合端" tabindex="-1">混合端 <a class="header-anchor" href="#混合端" aria-label="Permalink to &quot;混合端&quot;">​</a></h2><p>由于混合端本身的问题，混合端能进行的优化很少，并且混合端<strong>不可以装大部分优化 MOD</strong>，但是你仍然可以进行除安装优化mod以外的其他优化操作</p><p><s>不使用混合端来达到最佳的优化</s></p><h2 id="优化插件" tabindex="-1">优化插件 <a class="header-anchor" href="#优化插件" aria-label="Permalink to &quot;优化插件&quot;">​</a></h2><p>:::warning[特别说明]</p><p>我们在这里列出的不建议使用的插件是一个类型的插件，而不是仅仅只是不推荐某个插件. 对于推荐的&quot;优化插件&quot;，其实大多数也是通过限制红石/漏斗/实体数量和AI等完成的，</p><p>在狭义上任何使用插件操作限制任何东西都不能称之为&quot;<em>优化</em>&quot;而是&quot;<em>限制</em>&quot;，这里只是以&quot;<em>优化插件</em>&quot;代指一些&quot;<em>限制插件</em>&quot;.</p><p>所以说，使用这些&quot;优化插件&quot;，不如更换服务端核心，甚至不如优化启动参数和调优服务端配置文件</p><p>:::</p><h2 id="不建议使用的-优化-插件" tabindex="-1">不建议使用的&quot;优化&quot;插件 <a class="header-anchor" href="#不建议使用的-优化-插件" aria-label="Permalink to &quot;不建议使用的&quot;优化&quot;插件&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>有很多优化是核心自带的，使用插件只是利用核心的 API，效率上是比不上核心的。如 AI，村民，爆炸，区块卸载等...</p><p>大佬们思考一下吧，让插件删掉核心已经决定刷出来的怪物性能好还是让核心决定不刷怪性能好？</p></div><h3 id="控制玩家跑图" tabindex="-1">控制玩家跑图 <a class="header-anchor" href="#控制玩家跑图" aria-label="Permalink to &quot;控制玩家跑图&quot;">​</a></h3><p>由于大量生成区块非常消耗性能，限制玩家生成的区块数，能够起到一定的效果。</p><p>但我们一般可以通过 <a href="./go.html#prevent-moving-into-unloaded-chunks">参数配置</a> 降低区块生成速率，不太需要强行拉回玩家或减速玩家等方式干扰跑图。</p><p>因此，停止使用类似插件，如:</p><p><em><a href="https://modrinth.com/plugin/toomanygen" target="_blank" rel="noreferrer">TooManyGen</a> - 惩罚玩家跑图，实际上这是非常影响游戏体验的，有更好的选择。</em></p><h3 id="对于-ai-有影响的插件" tabindex="-1">对于 AI 有影响的插件 <a class="header-anchor" href="#对于-ai-有影响的插件" aria-label="Permalink to &quot;对于 AI 有影响的插件&quot;">​</a></h3><p>使用 Pufferfish Fork(如Purpur / Leaf等)降低远处生物的 AI 比插件利用 API 更加有效和符合游戏逻辑，</p><p>因此，停止使用类似插件，如:</p><p><em>LaggRemover (Fork) - 有时候会导致即使插件卸载，实体 AI 也被移除了，比不上 Pufferfish(使用 Purpur Fork即可)根据距离衰减的 AI.</em></p><h3 id="任何对于内存-gc-进行操作的插件" tabindex="-1">任何对于内存 GC 进行操作的插件 <a class="header-anchor" href="#任何对于内存-gc-进行操作的插件" aria-label="Permalink to &quot;任何对于内存 GC 进行操作的插件&quot;">​</a></h3><p>内存 GC 本身是受 JVM 本身控制的. GC 本身是会导致顿卡的，而并不能起到&quot;清理内存&quot;的作用.</p><p>因此，停止使用类似插件，如:</p><p><em>Spartan - 一款性能非常差的付费反作弊，如果你买了那么恭喜你你被骗了(大嘘)，如果近期购买请立即申请退款!</em></p><h3 id="村民优化插件" tabindex="-1">村民优化插件 <a class="header-anchor" href="#村民优化插件" aria-label="Permalink to &quot;村民优化插件&quot;">​</a></h3><p>村民非常吃性能，如果只需要保留公用交易性质可以使用 <a href="https://www.spigotmc.org/resources/shopkeepers.80756/" target="_blank" rel="noreferrer">Shopkeepers</a> 插件创建无 AI 的村民，</p><p>如果你想保留村民和 AI 只需要在 <code>purpur.yml</code> 中搜索 lobotomize 启用即可，</p><p>另外在 <code>config/paper-world-defaults.yml</code> 中有一部分可以优化的内容和村民相关，但这可能会导致村民看起来有一点呆。</p><p>在 <code>调服务端配置</code>自己找</p><p>因此，停止使用类似插件，如:</p><p><em><a href="https://www.spigotmc.org/resources/villager-optimiser-1-14-2-1-16-5.68517/" target="_blank" rel="noreferrer">Villager Optimiser</a> - 降低村民寻路操作的插件</em></p><h3 id="地面清理插件" tabindex="-1">地面清理插件 <a class="header-anchor" href="#地面清理插件" aria-label="Permalink to &quot;地面清理插件&quot;">​</a></h3><p>地面上的物品很少会导致性能问题，而且物品往往会自行消失，如果你的服务器掉落物特别多，请调整以下两个参数：</p><p><a href="./go.html#alt-item-despawn-rate">点这里查看正确方法 #alt-item-despawn-rate</a><a href="./go.html#merge-radius">点这里查看正确方法 #merge-radius</a></p><p>因此，停止使用类似插件，如:</p><p><em><a href="https://www.spigotmc.org/resources/clearlagg.68271/" target="_blank" rel="noreferrer">ClearLagg</a> - 清理物品插件</em></p><h3 id="生物清理插件" tabindex="-1">生物清理插件 <a class="header-anchor" href="#生物清理插件" aria-label="Permalink to &quot;生物清理插件&quot;">​</a></h3><p>使用插件删除生物是笨蛋中的笨蛋才会做的事，生物如果达到服务器设定的上限则会停止生成. 而被清除后，服务器必须重新生成生物，这个过程也是非常费性能的。</p><p>如果你不需要那么多怪物，直接调整参数即可 <a href="./go.html#spawn-limits">点这里查看正确方法</a></p><p>因此，停止使用类似插件，如:</p><p><em><a href="https://www.minebbs.com/resources/cleaner-addon.4816/" target="_blank" rel="noreferrer">Cleaner</a> - 清理生物/物品插件</em></p><h3 id="实体堆叠插件" tabindex="-1">实体堆叠插件 <a class="header-anchor" href="#实体堆叠插件" aria-label="Permalink to &quot;实体堆叠插件&quot;">​</a></h3><p>除非玩家乐意养殖非常非常多生物，否则对生物进行堆叠仍然会使服务器浪费性能在刷新更多的生物上，否则请不要安装堆叠插件。</p><p>因此，停止使用类似插件，如:</p><p><em><a href="https://www.spigotmc.org/resources/stackmob-enhance-your-servers-performance-without-the-sacrifice.29999/" target="_blank" rel="noreferrer">StackMob</a> - 实体密集时进行堆叠的插件(若一定要使用仍推荐本插件而不是其他堆叠插件)</em></p><p>其实叠加后的一小段时间，应该是占用下降的，但是服务器会因为实际的实体变少，重新刷新怪物，这会让占用缓慢恢复。</p><p>其次，如果堆叠插件使用的是命名的方式，这会牺牲命名这个操作，主流的是通过发包，告诉玩家这里有多少怪物，但是大量的会刷新的发包也会造成一定的带宽、cpu压力</p><p>最后，从心理学的角度(不是)，玩家总是倾向将动物养殖到服务器能容忍的最大限度，如果你堆叠到100，他一样会养很多堆叠到100的羊，</p><p>综上所述，不要安装堆叠插件。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>补充一点，我可以推荐给你这个，只在服务器mspt超过阈值才堆叠动物。如果你本身有farmcontrol之类的插件控制总量，那这个插件的使用是安全、无感、且能起到一定的“优化”作用的。<br><a href="https://github.com/quiquelhappy/StackMob-5" target="_blank" rel="noreferrer">https://github.com/quiquelhappy/StackMob-5</a></p></div><h3 id="爆炸优化插件" tabindex="-1">爆炸优化插件 <a class="header-anchor" href="#爆炸优化插件" aria-label="Permalink to &quot;爆炸优化插件&quot;">​</a></h3><p>Paper 酱为你在 <code>/config/paper-world-default.yml</code> 中准备了爆炸优化。</p><p><a href="./go.html#optimize-explosions">点这里查看正确方法</a></p><h3 id="区块卸载插件" tabindex="-1">区块卸载插件 <a class="header-anchor" href="#区块卸载插件" aria-label="Permalink to &quot;区块卸载插件&quot;">​</a></h3><p>服务器会自己卸载插件，与其使用插件一遍遍检查区块是否需要卸载不如让服务器自行卸载，</p><p>如果你需要更快卸载请 <a href="./go.html#delay-chunk-unloads-by">点这里查看正确方法</a></p><h2 id="其他应该避免使用的插件" tabindex="-1">其他应该避免使用的插件 <a class="header-anchor" href="#其他应该避免使用的插件" aria-label="Permalink to &quot;其他应该避免使用的插件&quot;">​</a></h2><h3 id="多合一插件" tabindex="-1">多合一插件 <a class="header-anchor" href="#多合一插件" aria-label="Permalink to &quot;多合一插件&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>大佬们，多合一插件大多数都是把几个开源的功能拼接到一起就说多合一说不定还付费了。这并不划算，且本身很容易臃肿。</p></div><h4 id="lagassist" tabindex="-1">Lagassist <a class="header-anchor" href="#lagassist" aria-label="Permalink to &quot;Lagassist&quot;">​</a></h4><p>跑路付费多合一&quot;优化插件&quot;，不要使用。下面是吐槽(包含一定程度的恶意，问就是因为被骗过一百块)</p><details><summary>为什么不要用这个插件</summary><ol><li><p>ChunkAnalyser - 简单的搜索世界的红石，漏斗，实体之类，有很多平替插件如 <a href="https://modrinth.com/plugin/insights" target="_blank" rel="noreferrer">Insights</a>/ <a href="https://www.spigotmc.org/resources/entitydetection-tile-entity-support.20588/" target="_blank" rel="noreferrer">Entitydetection</a>；</p></li><li><p>LagMonitor，LagMap，Benchmark - 很鸡肋的性能检测(不如 <a href="./performance-analysis.html#spark">Spark</a> )；</p></li><li><p>RedstoneCuller - 直接破坏红石机器，平替插件 <a href="https://hangar.papermc.io/OneLiteFeather/AntiRedstoneClock-Remastered?fbclid=IwAR0sVVd50oTgHd9UVJJ7C8dTyL3PiVIBaJtpT6NyMy_D2T2Ho0umzrqtaDw" target="_blank" rel="noreferrer">AntiRedstoneClock</a>；</p></li><li><p>ChunkHoppers - 有专门的区块漏斗插件如 <a href="https://www.spigotmc.org/resources/upgradeable-hoppers-%E2%AD%95-fast-hopper-plugin-link-containers-%E2%9C%85-item-transfer-suction-chunk-1-20-sup.69201/" target="_blank" rel="noreferrer">UpgradeableHoppers</a>，体验远好于此插件；</p></li><li><p>ChunkLimiter - 平替插件 <a href="https://www.spigotmc.org/resources/farmcontrol-1-15-1-19.86923/" target="_blank" rel="noreferrer">Farmcontrol</a> / <a href="https://www.spigotmc.org/resources/mob-farm-manager-supports-1-7-10-up-to-1-20-hopper-support.15127/" target="_blank" rel="noreferrer">Mob-Farm-Manager</a>，甚至更多配置项；</p></li><li><p>Dynamic View Distance - 平替插件 <a href="https://www.spigotmc.org/resources/view-distance-tweaks.75164/" target="_blank" rel="noreferrer">View-distance-tweaks</a>；</p></li></ol><p>总之每个所谓优化都是槽点，插件占用的性能多于&quot;优化&quot;的性能，请不要继续使用了。</p></details><h4 id="cmi-ess" tabindex="-1">CMI / ESS <a class="header-anchor" href="#cmi-ess" aria-label="Permalink to &quot;CMI / ESS&quot;">​</a></h4><p>所谓基础插件，旨在使用一个插件就可以代替数个甚至数十个插件的功能。</p><p>但是这样的插件往往功能多而不专，如 CMI 经济经常出 bug 且不支持跨服。</p><p>而 ESS 使用 yml 储存大量的玩家数据，经常被发现有刷钱漏洞等高血压操作。</p><p>这些插件往往因为功能多导致有些代码没有被优化好，无法和专精某一方面的插件媲美。</p><h3 id="过于古老的插件" tabindex="-1">过于古老的插件 <a class="header-anchor" href="#过于古老的插件" aria-label="Permalink to &quot;过于古老的插件&quot;">​</a></h3><p>除了 Vault 等前置插件以外，插件总是需要更新的，如果一个插件长期不更新，</p><p>且并非服务器核心玩法插件，请考虑选择搜索类似功能插件。</p><h3 id="功能过于简单的插件" tabindex="-1">功能过于简单的插件 <a class="header-anchor" href="#功能过于简单的插件" aria-label="Permalink to &quot;功能过于简单的插件&quot;">​</a></h3><p>主要是包括一些甚至不到 10kb 的插件，功能仅仅只是右键西瓜能够收获，或是禁止农田踩踏等。</p><p>这些插件功能很可能被一些其他的插件甚至核心自带了(如 purpur 可设置农田是否可踩踏)。</p><p>虽然一般来说这些插件不会对性能有影响，但是的确能够降低服务器维护难度等。</p><h3 id="拥有相似功能的插件" tabindex="-1">拥有相似功能的插件 <a class="header-anchor" href="#拥有相似功能的插件" aria-label="Permalink to &quot;拥有相似功能的插件&quot;">​</a></h3><p>顾名思义，同时安装两个基础插件如 CMI 和 ESS，两个权限插件 GroupManager 和 Luckperms ，两个经济插件，</p><p>不但可能由于插件矛盾导致性能问题，更有可能直接出现权限失效、保护功能失效等严重问题。</p><h2 id="有用的优化限制插件" tabindex="-1">有用的<s>优化</s>限制插件 <a class="header-anchor" href="#有用的优化限制插件" aria-label="Permalink to &quot;有用的~~优化~~限制插件&quot;">​</a></h2><h3 id="farmcontrol" tabindex="-1">FarmControl <a class="header-anchor" href="#farmcontrol" aria-label="Permalink to &quot;FarmControl&quot;">​</a></h3><p>主要是降低超大或超高密度的生物养殖</p><ul><li>禁止在超大型动物养殖场和村民繁殖。</li><li>减少生物农场内不必要的随机移动。</li><li>特别密集时禁用农场中生物的 AI。</li><li>限制区域中允许的实体数。</li><li>高度可配置 - 允许你根据需要定制插件。</li><li>低影响 - 插件处理是异步执行的。</li></ul><p><a href="https://hangar.papermc.io/froobynooby/FarmControl" target="_blank" rel="noreferrer">下载链接</a></p><h3 id="oktreasures" tabindex="-1">OkTreasures <a class="header-anchor" href="#oktreasures" aria-label="Permalink to &quot;OkTreasures&quot;">​</a></h3><p>原版 Minecraft 有一个错误，即埋藏的寻宝速度非常慢，有时会冻结你的游戏。这也发生在多人游戏中，如果有人打开埋藏的宝藏搜索，服务器有时会崩溃。并且很难发现真正的错误，从 Minecraft 1.20.1 开始，这还没有修复。</p><p>这个插件通过用一个自定义的、更快、更简单的搜索替换原版埋藏的寻宝来修复这些类型的崩溃：它只是在合理的距离内随机选择一个海滩并将宝藏放在那里。由于这主要是异步的，因此不会导致延迟。</p><p>详细使用和局限性，请看<a href="https://hangar.papermc.io/Kyle/OkTreasures" target="_blank" rel="noreferrer">官方页面</a></p><h3 id="chunky-border" tabindex="-1">Chunky Border <a class="header-anchor" href="#chunky-border" aria-label="Permalink to &quot;Chunky Border&quot;">​</a></h3><p>一个设置世界边界的工具，可设置不同形状，拉回方式(适配地球从东方跨越地图到西方)等，比原版更加友好。</p><p><a href="https://modrinth.com/plugin/chunkyborder" target="_blank" rel="noreferrer">下载链接</a></p><h3 id="entitydetection" tabindex="-1">EntityDetection <a class="header-anchor" href="#entitydetection" aria-label="Permalink to &quot;EntityDetection&quot;">​</a></h3><p>这个插件可以用来寻找哪些东西在拖慢服务器，使用此插件，你可以快速找到包含大量怪物、动物和漏斗。</p><p><a href="https://www.spigotmc.org/resources/entitydetection-tile-entity-support.20588/" target="_blank" rel="noreferrer">下载链接</a></p><h3 id="antiraidfarm" tabindex="-1">AntiRaidFarm <a class="header-anchor" href="#antiraidfarm" aria-label="Permalink to &quot;AntiRaidFarm&quot;">​</a></h3><p>使用这个简单的插件阻止利用无限不祥之兆循环的作弊突袭农场。此插件没有命令，想要绕过冷却时间的玩家可以获得权限。</p><p><a href="https://hangar.papermc.io/jmp/AntiRaidFarm" target="_blank" rel="noreferrer">下载链接</a></p><h3 id="insights" tabindex="-1">Insights <a class="header-anchor" href="#insights" aria-label="Permalink to &quot;Insights&quot;">​</a></h3><p>此插件是一个高性能的用来扫描世界红石加以限制的插件，爆杀大部分限制插件</p><p><a href="https://modrinth.com/plugin/insights" target="_blank" rel="noreferrer">下载链接</a></p>',99)]))}const m=e(i,[["render",p]]);export{d as __pageData,m as default};
